CREATE VIEW "CADIS"."DI_VTRXML_POS_RSLT" AS
SELECT
	RESULT."FUND_SHORT_NAME Populated?",RESULT."QUANTITY Populated?",RESULT."SECURITY_NAME Populated?",RESULT."SECURITY_SHORTNAME Populated?",RESULT."SECURITY_ISO_CCY Populated?",RESULT."ISSUE_COUNTRY_ISO Populated?",RESULT."UNIQUE_BLOOMBERG_ID Populated?",RESULT."CUSIP Polulated?",RESULT."Component_InstrumentId for Warrent Populated?",RESULT."All Tests Passed?",RESULT."CADIS_SYSTEM_CHANGEDBY",RESULT."CADIS_SYSTEM_INSERTED",RESULT."CADIS_SYSTEM_UPDATED",INPUT."CADIS_BATCH_ID",INPUT."CADIS_MSG_ID",INPUT."CADIS_PARENT_ID",INPUT."CADIS_ROW_ID",INPUT."RowNumber",INPUT."PositionDate",INPUT."AssetName",INPUT."CompanyType",INPUT."SOURCE",INPUT."POSITION_TYPE",INPUT."EDM_SEC_ID",INPUT."FUND_SHORT_NAME",INPUT."LONG_SHORT_IND",INPUT."POSITION_DATE",INPUT."PRICE",INPUT."QUANTITY",INPUT."SECURITY_NAME",INPUT."SECURITY_DESCRIPTION",INPUT."SECURITY_SHORTNAME",INPUT."ASSET_TYPE",INPUT."SECURITY_TYPE",INPUT."CUSIP",INPUT."ISIN",INPUT."SEDOL",INPUT."TICKER",INPUT."VALOREN",INPUT."WERTPAPIER",INPUT."SECURITY_ISO_CCY",INPUT."RISK_ISO_CCY",INPUT."FIXED_ISO_CCY",INPUT."INCORPORATION_ISO_CTY",INPUT."DOMICILE_ISO_CTY",INPUT."ISSUE_COUNTRY_ISO",INPUT."RISK_ISO_CTY",INPUT."MIC_EXCHANGE_CODE",INPUT."BBG_EXCHANGE_CODE",INPUT."STATE_CODE",INPUT."ACTIVE_TRADE_INDICATOR",INPUT."_x0031_44A_INDICATOR",INPUT."PRIVATE_PLACEMENT_INDICATOR",INPUT."ILLIQUID",INPUT."QUOTE_TYPE",INPUT."DAYS_TO_SETTLE",INPUT."TRADE_SETTLEMENT_CALENDAR_CODE",INPUT."UNIQUE_BLOOMBERG_ID",INPUT."BBG_SECTOR",INPUT."BBG_SUBSECTOR",INPUT."BBG_GROUP",INPUT."IS_IPO",INPUT."PARSEKEYABLE_DESCRIPTION",INPUT."SECURITY_IDENTIFIER",INPUT."IRISH_SEDOL_NUMBER",INPUT."PRIMARY_EXCHANGE_NAME",INPUT."ISSUER",INPUT."SECURITY_HAS_ADRS",INPUT."EX_DIVIDEND_DATE",INPUT."DIVIDEND_FREQUENCY",INPUT."DIVIDEND_PAY_DATE",INPUT."DIVIDEND_PER_SHARE_LAST_NET",INPUT."DIVIDEND_PER_SHARE_LAST_GROSS",INPUT."DIVIDEND_PER_SHARE_ANNUAL_GROSS",INPUT."DIVIDEND_TYPE",INPUT."DIVIDEND_RECORD_DATE",INPUT."CURRENT_STOCK_DIVIDEND_EX_DATE",INPUT."CURRENT_STOCK_DIVIDEND_PAY_DATE",INPUT."CURRENT_STOCK_DIVIDEND_PCT",INPUT."NORMAL_MARKET_SIZE",INPUT."SHARES_OUTSTANDING",INPUT."SHARES_OUTSTANDING_DATE",INPUT."IPO",INPUT."VOL_WEIGHTED_AVERAGE_PRICE",INPUT."FUND_NET_ASSET_VALUE",INPUT."FUND_TOTAL_ASSETS",INPUT."LAST_UPDATE_DATE_EXCHANGE_TIMEZONE",INPUT."TOTAL_VOTING_SHARES",INPUT."SHARE_OUTSTANDING_REAL_ACTUAL",INPUT."TOTAL_VOTING_SHARES_VALUE",INPUT."LAST_PUBLISHED_OFFER_NO_OF_SHARES",INPUT."SHARE_OUTSTANDING_REAL_VALUE",INPUT."CUR_MAR_CAP",INPUT."OPTION_ROOT_TICKER",INPUT."PUT_CALL_INDICATOR",INPUT."EXPIRY_DATE",INPUT."FUTURE_EXPIRY_MONTH_YEAR",INPUT."EXERCISE_TYPE",INPUT."CONTRACT_SIZE",INPUT."CONTRACT_VALUE",INPUT."FUTURE_TYPE",INPUT."LAST_TRADE_DATE",INPUT."LONG_EXCHANGE_NAME",INPUT."DELTA",INPUT."GAMMA",INPUT."THETA",INPUT."VEGA",INPUT."EURO_FUTURE_INDICATOR",INPUT."CONVERSION_FACTOR",INPUT."CTD_CONVERSION_DURATION",INPUT."CTD_ISIN",INPUT."CTD_SEDOL",INPUT."CTD_RISK_TYPE",INPUT."FUTURE_DAYS_TO_EXPIRY",INPUT."FUTURE_LONGNAME",INPUT."STRIKE_PRICE",INPUT."TICK_SIZE",INPUT."ISSUE_DATE",INPUT."MATURITY_DATE",INPUT."COUPON_RATE",INPUT."COUPON_FREQUENCY",INPUT."COUPON_TYPE",INPUT."CONVERTIBLE_INDICATOR",INPUT."IsConvertiblePreferred",INPUT."AMOUNT_ISSUED",INPUT."AMOUNT_OUTSTANDING",INPUT."COUPON_CAP",INPUT."COUPON_ISO_CCY",INPUT."COUPON_FLOOR",INPUT."ISSUE_PRICE",INPUT."DAY_COUNT",INPUT."FIRST_COUPON_DATE",INPUT."FIRST_SETTLE_DATE",INPUT."PREVIOUS_COUPON_DATE",INPUT."NEXT_COUPON_DATE",INPUT."NEXT_CALL_DATE",INPUT."NEXT_CALL_PRICE",INPUT."LAST_RESET_DATE",INPUT."NEXT_RESET_DATE",INPUT."SECOND_COUPON_DATE",INPUT."FIXED_INDICATOR",INPUT."FIX_TO_FLOAT_INDICATOR",INPUT."FLOATER_INDICATOR",INPUT."FLOAT_TO_FIX_INDICATOR",INPUT."INDEX_LINKED_INDICATOR",INPUT."INFLATION_LINKED_INDICATOR",INPUT."PERPETUAL_INDICATOR",INPUT."ZERO_COUPON_INDICATOR",INPUT."ACCRUED_INTEREST_PER_100",INPUT."ACCRUED_INTEREST_DATE",INPUT."COLLATERAL_TYPE",INPUT."AGGREGATE_AMOUNT_ISSUED_INDICATOR",INPUT."ASSUMED_INDEX_VALUE",INPUT."BRADY_INDICATOR",INPUT."CALCULATION_TYPE",INPUT."CALLABLE_INDICATOR",INPUT."CALLED_INDICATOR",INPUT."CALL_DAYS_NOTICE",INPUT."PUTABLE_INDICATOR",INPUT."PUT_DAYS_NOTICE",INPUT."CASH_SETTLED_INDICATOR",INPUT."CDS_RECOVERY_RATE",INPUT."CORPORATE_TO_EQUITY_TICKER",INPUT."FIX_TO_FLOAT_COUPON_TYPE_RESET_DATE",INPUT."DEFAULTED_INDICATOR",INPUT."EXCHANGEABLE_INDICATOR",INPUT."FLOATER_COUPON_CONVENTION",INPUT."FLOATER_LOCKOUT_PERIOD",INPUT."FLOATER_PAY_DAY",INPUT."JUNIOR_INDICATOR",INPUT."SENIOR_INDICATOR",INPUT."REGULATION_S_INDICATOR",INPUT."SUBORDINATED_INDICATOR",INPUT."UNIT_TRADED_INDICATOR",INPUT."LOAN_PARTICIPATION_NOTE_INDICATOR",INPUT."ORIGINAL_ISSUE_DISCOUNT_INDICATOR",INPUT."GILT_DIGITS",INPUT."GILTS_EX_DIVIDEND_DATE",INPUT."INDEX_RATIO_CPI",INPUT."MINIMUM_INCREMENT",INPUT."MINIMUM_PIECE",INPUT."MOST_RECENT_REPORTED_FACTOR",INPUT."MOST_RECENT_ACCRUAL_RATE",INPUT."MOST_RECENT_ACCRUAL_RATE_START_DATE",INPUT."MORTGAGE_DEAL_CALL_DATE",INPUT."MORTGAGE_END_PRINCIPAL_WINDOW_MATURITY",INPUT."MORTGAGE_FACTOR_DATE",INPUT."MORTGAGE_CURRENT_PAYMENT_RATE",INPUT."MORTGAGE_FINAL_PAY_DATE",INPUT."MORTGAGE_FIRST_PAY_DATE",INPUT."MORTGAGE_LIFE_FLOOR",INPUT."MORTGAGE_PAYMENT_DELAY",INPUT."MORTGAGE_RATE_CHANGE_FREQUENCY",INPUT."MORTGAGE_TRANCHE_TYPE",INPUT."MATURITY_REFUND_TYPE",INPUT."NOMINAL_PAYMENT_DAY",INPUT."PENULTIMATE_COUPON_DATE",INPUT."REDEMPTION_VALUE",INPUT."UNDERLYING_REFERENCE_INDEX",INPUT."RESET_FREQUENCY",INPUT."RESET_INDEX",INPUT."SINK_TYPE",INPUT."SINKABLE_INDICATOR",INPUT."STEPUP_STEPDOWN_COUPON",INPUT."STEPUP_STEPDOWN_COUPON_DATE",INPUT."STRUCTURED_NOTE_INDICATOR",INPUT."LOWER_TIER2_CAPITAL_INDICATOR",INPUT."TIER1_CAPITAL_INDICATOR",INPUT."TIER2_CAPITAL_NON_SPECIFIC_INDICATOR",INPUT."UPPER_TIER2_CAPITAL_INDICATOR",INPUT."EX_DIVIDEND_DAYS",INPUT."EX_DIVIDEND_DAYS_CALENDAR_CODE",INPUT."SUBORDINATE_TYPE",INPUT."SENIORITY_LEVEL_2",INPUT."DIVIDEND_CCY",INPUT."WITHHOLDING_TAX",INPUT."EQUITY_UNDERLYING_TICKER",INPUT."pos_InnerText",INPUT."Component_InstrumentId",INPUT."CADIS_SYSTEM_INSERTED" "CADIS_SYSTEM_INSERTED0",INPUT."CADIS_SYSTEM_UPDATED" "CADIS_SYSTEM_UPDATED0",INPUT."CADIS_SYSTEM_CHANGEDBY" "CADIS_SYSTEM_CHANGEDBY0",INPUT."CADIS_SYSTEM_RUNID",INPUT."CADIS_SYSTEM_TOPRUNID"
FROM 
"CADIS_PROC"."DI_VTRXML_RESULTS" RESULT
JOIN
(select *  from dbo.t_positions_pos_out_pre) AS INPUT ON
RESULT."CADIS_BATCH_ID"=INPUT."CADIS_BATCH_ID" AND
RESULT."CADIS_MSG_ID"=INPUT."CADIS_MSG_ID" AND
RESULT."CADIS_PARENT_ID"=INPUT."CADIS_PARENT_ID" AND
RESULT."CADIS_ROW_ID"=INPUT."CADIS_ROW_ID" AND
(1=1)
