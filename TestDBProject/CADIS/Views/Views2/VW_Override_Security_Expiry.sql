CREATE VIEW "CADIS"."VW_Override_Security_Expiry"
AS
SELECT

/*Primary Key*/
T1.[EDM_SEC_ID],

/* System Timestamps for editing*/
T1.[CADIS_SYSTEM_TIMESTAMP] AS CADIS_SYSTEM_TIMESTAMP_1, 
T2.[CADIS_SYSTEM_TIMESTAMP] AS CADIS_SYSTEM_TIMESTAMP_2, 
T3.[CADIS_SYSTEM_TIMESTAMP] AS CADIS_SYSTEM_TIMESTAMP_3, 
T4.[CADIS_SYSTEM_TIMESTAMP] AS CADIS_SYSTEM_TIMESTAMP_4, 
T5.[CADIS_SYSTEM_TIMESTAMP] AS CADIS_SYSTEM_TIMESTAMP_5, 

/*Generic Security Attributes*/
T1.[SECURITY_NAME],
T1.[SECURITY_DESCRIPTION],
T1.[SECURITY_SHORTNAME],
T1.[ASSET_TYPE],
T1.[SECURITY_TYPE],
T1.[CUSIP],
T1.[ISIN],
T1.[SEDOL],
T1.[TICKER],
T1.[VALOREN],
T1.[WERTPAPIER],
T1.[SECURITY_ISO_CCY],
T1.[RISK_ISO_CCY],
T1.[FIXED_ISO_CCY],
T1.[INCORPORATION_ISO_CTY],
T1.[DOMICILE_ISO_CTY],
T1.[ISSUE_COUNTRY_ISO],
T1.[RISK_ISO_CTY],
T1.[MIC_EXCHANGE_CODE],
T1.[STATE_CODE],
T1.[ACTIVE_TRADE_INDICATOR],
T1.[144A_INDICATOR],
T1.[PRIVATE_PLACEMENT_INDICATOR],
T1.[ILLIQUID],
T1.[QUOTE_TYPE],
T1.[DAYS_TO_SETTLE],
T1.[SECURITY_HAS_ADRS],
T1.[UNIQUE_BLOOMBERG_ID],
T1.[PARSEKEYABLE_DESCRIPTION],
T1.[BBG_EXCHANGE_CODE],
T1.[ISSUER],
T1.[CUR_MAR_CAP],
T1.[TRADE_SETTLEMENT_CALENDAR_CODE],
T1.[WITHHOLDING_TAX],
T1.[CADIS_SYSTEM_INSERTED],
T1.[CADIS_SYSTEM_UPDATED],
T1.[CADIS_SYSTEM_CHANGEDBY],

/* Equity Attributes */
T2.[EX_DIVIDEND_DATE],
T2.[DIVIDEND_FREQUENCY],
T2.[DIVIDEND_PAY_DATE],
T2.[DIVIDEND_PER_SHARE_LAST_NET],
T2.[DIVIDEND_PER_SHARE_LAST_GROSS],
T2.[DIVIDEND_PER_SHARE_ANNUAL_GROSS],
T2.[DIVIDEND_TYPE],
T2.[DIVIDEND_RECORD_DATE],
T2.[CURRENT_STOCK_DIVIDEND_EX_DATE],
T2.[CURRENT_STOCK_DIVIDEND_PAY_DATE],
T2.[CURRENT_STOCK_DIVIDEND_PCT],
T2.[NORMAL_MARKET_SIZE],
T2.[SHARES_OUTSTANDING],
T2.[SHARES_OUTSTANDING_DATE],
T2.[SHARE_OUTSTANDING_REAL_ACTUAL],
T2.[SHARE_OUTSTANDING_REAL_VALUE],
T2.[LAST_PUBLISHED_OFFER_NO_OF_SHARES],
T2.[VOL_WEIGHTED_AVERAGE_PRICE],
T2.[FUND_NET_ASSET_VALUE],
T2.[FUND_TOTAL_ASSETS],
T2.[LAST_UPDATE_DATE_EXCHANGE_TIMEZONE],
T2.[TOTAL_VOTING_SHARES],

/* Fixed income Attributes */
T3.[ISSUE_DATE],
T3.[MATURITY_DATE],
T3.[COUPON_RATE],
T3.[COUPON_FREQUENCY],
T3.[COUPON_TYPE],
T3.[CONVERTIBLE_INDICATOR],
T3.[AMOUNT_ISSUED],
T3.[AMOUNT_OUTSTANDING],
T3.[COUPON_CAP],
T3.[COUPON_ISO_CCY],
T3.[COUPON_FLOOR],
T3.[ISSUE_PRICE],
T3.[DAY_COUNT],
T3.[FIRST_COUPON_DATE],
T3.[FIRST_SETTLE_DATE],
T3.[PREVIOUS_COUPON_DATE],
T3.[NEXT_COUPON_DATE],
T3.[NEXT_CALL_DATE],
T3.[NEXT_CALL_PRICE],
T3.[LAST_RESET_DATE],
T3.[NEXT_RESET_DATE],
T3.[SECOND_COUPON_DATE],
T3.[FIXED_INDICATOR],
T3.[FIX_TO_FLOAT_INDICATOR],
T3.[FLOATER_INDICATOR],
T3.[FLOAT_TO_FIX_INDICATOR],
T3.[INDEX_LINKED_INDICATOR],
T3.[INFLATION_LINKED_INDICATOR],
T3.[PERPETUAL_INDICATOR],
T3.[ZERO_COUPON_INDICATOR],
T3.[ACCRUED_INTEREST_PER_100],
T3.[ACCRUED_INTEREST_DATE],
T3.[COLLATERAL_TYPE],
T3.[AGGREGATE_AMOUNT_ISSUED_INDICATOR],
T3.[ASSUMED_INDEX_VALUE],
T3.[BRADY_INDICATOR],
T3.[CALCULATION_TYPE],
T3.[CALLABLE_INDICATOR],
T3.[CALLED_INDICATOR],
T3.[CALL_DAYS_NOTICE],
T3.[PUTABLE_INDICATOR],
T3.[PUT_DAYS_NOTICE],
T3.[CASH_SETTLED_INDICATOR],
T3.[CDS_RECOVERY_RATE],
T3.[CORPORATE_TO_EQUITY_TICKER],
T3.[FIX_TO_FLOAT_COUPON_TYPE_RESET_DATE],
T3.[DEFAULTED_INDICATOR],
T3.[EXCHANGEABLE_INDICATOR],
T3.[FLOATER_COUPON_CONVENTION],
T3.[FLOATER_LOCKOUT_PERIOD],
T3.[FLOATER_PAY_DAY],
T3.[JUNIOR_INDICATOR],
T3.[SENIOR_INDICATOR],
T3.[REGULATION_S_INDICATOR],
T3.[SUBORDINATED_INDICATOR],
T3.[UNIT_TRADED_INDICATOR],
T3.[LOAN_PARTICIPATION_NOTE_INDICATOR],
T3.[ORIGINAL_ISSUE_DISCOUNT_INDICATOR],
T3.[GILT_DIGITS],
T3.[GILTS_EX_DIVIDEND_DATE],
T3.[INDEX_RATIO_CPI],
T3.[MINIMUM_INCREMENT],
T3.[MINIMUM_PIECE],
T3.[MOST_RECENT_REPORTED_FACTOR],
T3.[MOST_RECENT_ACCRUAL_RATE],
T3.[MOST_RECENT_ACCRUAL_RATE_START_DATE],
T3.[MORTGAGE_DEAL_CALL_DATE],
T3.[MORTGAGE_END_PRINCIPAL_WINDOW_MATURITY],
T3.[MORTGAGE_FACTOR_DATE],
T3.[MORTGAGE_CURRENT_PAYMENT_RATE],
T3.[MORTGAGE_FINAL_PAY_DATE],
T3.[MORTGAGE_FIRST_PAY_DATE],
T3.[MORTGAGE_LIFE_FLOOR],
T3.[MORTGAGE_PAYMENT_DELAY],
T3.[MORTGAGE_RATE_CHANGE_FREQUENCY],
T3.[MORTGAGE_TRANCHE_TYPE],
T3.[MATURITY_REFUND_TYPE],
T3.[NOMINAL_PAYMENT_DAY],
T3.[PENULTIMATE_COUPON_DATE],
T3.[REDEMPTION_VALUE],
T3.[UNDERLYING_REFERENCE_INDEX],
T3.[RESET_FREQUENCY],
T3.[RESET_INDEX],
T3.[SINK_TYPE],
T3.[SINKABLE_INDICATOR],
T3.[STEPUP_STEPDOWN_COUPON],
T3.[STEPUP_STEPDOWN_COUPON_DATE],
T3.[STRUCTURED_NOTE_INDICATOR],
T3.[LOWER_TIER2_CAPITAL_INDICATOR],
T3.[TIER1_CAPITAL_INDICATOR],
T3.[TIER2_CAPITAL_NON_SPECIFIC_INDICATOR],
T3.[UPPER_TIER2_CAPITAL_INDICATOR],
T3.[EX_DIVIDEND_DAYS],
T3.[EX_DIVIDEND_DAYS_CALENDAR_CODE],
T3.[SUBORDINATE_TYPE],
T3.[SENIORITY_LEVEL_2],

/* Derivative Attributes */
T4.[OPTION_ROOT_TICKER],
T4.[PUT_CALL_INDICATOR],
T4.[EXPIRY_DATE],
T4.[FUTURE_EXPIRY_MONTH_YEAR],
T4.[EXERCISE_TYPE],
T4.[CONTRACT_SIZE],
T4.[CONTRACT_VALUE],
T4.[FUTURE_TYPE],
T4.[LAST_TRADE_DATE],
T4.[LONG_EXCHANGE_NAME],
T4.[DELTA],
T4.[GAMMA],
T4.[THETA],
T4.[VEGA],
T4.[EURO_FUTURE_INDICATOR],
T4.[CONVERSION_FACTOR],
T4.[CTD_CONVERSION_DURATION],
T4.[CTD_ISIN],
T4.[CTD_SEDOL],
T4.[CTD_RISK_TYPE],
T4.[FUTURE_DAYS_TO_EXPIRY],
T4.[FUTURE_LONGNAME],
T4.[STRIKE_PRICE],
T4.[TICK_SIZE],

/* Analytics Attributes */
T5.[MARKET_CAP],
T5.[AVERAGE_VOLUME_100D],
T5.[AVERAGE_VOLUME_30D],
T5.[VOTING_RIGHTS],
T5.[PAR_AMOUNT],
T5.[OPEN_INTEREST],
T5.[BASE_ACCRUAL_RATE_DATE],
T5.[UNDERLYING_BASE_CPI],
T5.[BASIC_SPREAD_PCT],
T5.[MID_CONVEXITY],
T5.[MID_DISCOUNT_MARGIN],
T5.[MID_DISCOUNT_MARGIN_TO_NEXT_CALL],
T5.[MID_MODIFIED_DURATION],
T5.[MID_MACAULAY_DURATION],
T5.[MID_SPREAD_DURATION],
T5.[FLOATER_SPREAD_BP],
T5.[MORTGAGE_GENERIC_CPR_ISSUE],
T5.[MORTGAGE_GENERIC_PSA_ISSUE],
T5.[MORTGAGE_ORIGINAL_WAC],
T5.[MORTGAGE_ORIGINAL_WAM],
T5.[MORTGAGE_POOL_PSA_ISSUE],
T5.[MORTGAGE_PRINCIPAL_LOSSES],
T5.[MORTGAGE_WAL_YEARS],
T5.[MORTGAGE_WAM_MONTHS],
T5.[MID_OAS_SPREAD_DURATION],
T5.[MID_YIELD_TO_CONVENTION],
T5.[ASK_YIELD_TO_NEXT_CALL],
T5.[ASK_YIELD_TO_MATURITY],
T5.[MID_YIELD_TO_MATURITY],
T5.[MID_Z_SPREAD_BP],
T5.[ANNUAL_MODIFIED_DURATION],
T5.[SEMI_ANNUAL_MODIFIED_DURATION],
T5.[ISMA_MODIFIED_DURATION],
T5.[MODIFIED_DURATION],
T5.[YIELD_TO_MATURITY],
T5.[ANNUAL_YIELD],
T5.[SEMI_ANNUAL_YIELD],
T5.[ISMA_YIELD],
T5.[OAS],
T5.[Z_SPREAD],
T5.[EXPECTED_REMAINING_LIFE],
T5.[MATURITY_WAL]



,T2.[EQUITY_UNDERLYING_TICKER]

,T2.[DIVIDEND_CCY]
FROM
"dbo"."T_OVERRIDE_SEC_EXPIRY" T1
LEFT JOIN "dbo"."T_OVERRIDE_SEC_EQUITY_EXPIRY" T2 ON T1.[EDM_SEC_ID] = T2.[EDM_SEC_ID] 
LEFT JOIN "dbo"."T_OVERRIDE_SEC_FIXED_EXPIRY" T3 ON T1.[EDM_SEC_ID] = T3.[EDM_SEC_ID] 
LEFT JOIN "dbo"."T_OVERRIDE_SEC_DERIVATIVE_EXPIRY" T4 ON T1.[EDM_SEC_ID] = T4.[EDM_SEC_ID] 
LEFT JOIN "dbo"."T_OVERRIDE_SEC_ANALYTIC_EXPIRY" T5 ON T1.[EDM_SEC_ID] = T5.[EDM_SEC_ID] 

